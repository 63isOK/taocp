# vol1, 1.3.2 习题包2.10

## 题目

有一个9x8的矩阵

    a11 a12 ... a17 a18
    ...             ...
    a91 a92 ... a97 a98

用mixal存,可以这么存: aij = 1000 + 8i + j

    1009 1010 ... 1015 1016
    ...                ...
    1073 1074     1079 1080

saddle point,叫鞍点,在数学的很多方面都有应用,
在矩阵中,特指行中最小列中最大的某个元素.
鞍点满足以下条件:

- aij = min(aik) k取值为1到8,行中最小
- aij = max(akj) k取值为1到9,列中最大

那么问题是:写一个程序来查找矩阵的鞍点,
如果没有鞍点,返回0,如果有鞍点,返回第一个鞍点的位置,
返回值放在rI1中.

## 分析

常规思路,行中最小列中最大,可以遍历行,
找到最小值,判断这个值在列中是不是最大.
这种思路,遍历列也是一样的.

习题中给出提示,使用索引寄存器rIi来实现二维数组.

对于解题,考虑到矩阵的输入,用一个生产函数来代替读设备,
用查找函数来作为题目的解,用主函数来串联两函数,
起到调试的作用.

在编写查找函数的过程中,发现动手写代码,真不如在纸上画,
至少要先画出整个流程,毕竟各种跳转还是很容易出错的.
那么有没有一种方法,让写出的代码有较强的可读性?

这点在后面的学习中,会重点关注.

当我在纸上写出整个计算流程时,将其翻译成mixal时还是花了很长时间.
可能是应为1.3.1的习题没有刷,导致很多常用的写法没有很深的认识,
写完之后,对mixal的指令的理解也更加深入了.

编译过程:

- 函数不能放在主函数后面,会包符号找不到
- 函数的如何使用和限制,还需要进一步学习,已将代码改为单函数模式
- ORIG 前面不能放标签,START标签应该放在mixal指令上
- MUL等指令,操作对象是V,如果要传立即数,要用字面量 =N=
- 调试时,不能下断在START,在START的下一条是可以下断的
- 要将rAX存到内存单元怎么办
  - 问题是内存单元的编号是变化的
  - 可以先将内存单元编号放到index寄存器
  - STX 0,1 再利用这种方式来修改内存单元的值
  - w-exp表达式是否可以解决这种问题?值得探索

修改了诸多错误之后,发现运行结果是错的,
应该是某些基础逻辑有问题,下一步,手动创建数据,将矩阵变小,再来单步调试.

现在终于调试通过了,通过这个,对mixal了解了更多.
后续需要补上总结部分.

## 解答

具体编码看mixal源码文件

## 总结

这是对这次解决问题的总结.

现在列出M不是内存地址,而是当成数字的指令类型:

- 地址转移操作,ENTA/INCA/DECA
- 输入输出操作,M是跟着指令走的,不是内存地址,也不是随意的数字
- 位移操作,M表示的位移的位数
- MOVE指令中的M表示要拷贝的字数

注意跳转操作,不涉及M.转换操作不涉及M.
