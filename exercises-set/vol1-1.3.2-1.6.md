# vol1, 1.3.2 习题包1.6

## 题目

证明:如果n不是质数,那么n有约数d,在区间`[1...sqrt(n)]`中;
其次用这个证明结果,来验证"打印500质数算法"中P7的正确性.

## 分析

这个题目分两个小题,需要证明两个事情.

## 解答

第一个小题:

如果n不是质数,那么除了1和n之外,还有其他约数,
假设这个数是a,b=n/a,a和b都在1到n的区间内.

对应题目,问题是:是否存在ab,使得他们都在1到sqrt(n)的区间内,
或都在sqrt(n)到n的区间内.很容易看出,只有a=b=sqrt(n)时,
ab的分布在临界区,其他时候,ab必定分布在sqrt(n)左右两个区域.

所以第一小题就得到了证明.

第二个小题:

利用前面的结论,如果n不是质数,只需要证明1到sqrt(n)中没有约数就行.

    P1. [Start table.] p[1]=2,n=3,j=1.(n表示下一个要判断的数,j表示已有质数数量.)
    P2. [n is prime.] j=j+1;p[j]=n.
    P3. [500 found?] if j==500, go to P9.
    P4. [Advance n.] n=n+2.
    P5. [k=2.] k=2.(用p[k]来测试n是否是一个质数.)
    P6. [p[k]\n?]. p[k]/n,商是q,余数是r.if r==0, go to P4.
    P7. [p[k] large?] if q <= p[k], go to p2.
    P8. [Advance k.] k=k+1, go to p6.
    P9. [Print title.] B[0]=title;print;b=1,m=1.
    P10. [Set up line.] p[m],p[50+m]...p[450+m] 添加到B[b].
    P11. [Print line.] print B[b],b=1-b,m=m+1.if m<=50,go to P10;其他 结束.

P5-P7都是测试n是否是质数,P6中的使用`n/p[k]`,
就是查看`p[k]`是否是n的约数,`n/p[k]`的商是q,余数是r,
`p[k]`和q都是上面说的a和b的分布,而`p[k]`是从2一直迭代到最大,
`p[k]`大于q时,证明此时`p[k]`已经大于sqrt(n)了,
在2到sqrt(n)中没有找到约数,利用上面的结论,也就证明n是一个质数,
对n的测试也可以停止了.P7正是按这个思路来设计的.
